# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é RenderLib 3.0 –¥–ª—è FPS –û—Ç–∫—Ä—ã—Ç–æ–≥–æ –ú–∏—Ä–∞

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è: –ú–∞–∫—Å–∏–º—É–º –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ Forward Rendering + Blinn-Phong

–í—Å–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, –Ω–µ —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è core renderer'–∞.

---

## üìã TOP 10 –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –£–ª—É—á—à–µ–Ω–∏–π

### 1Ô∏è‚É£ **Volumetric Lighting (–û–±—ä–µ–º–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ)**
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê | **–í–ª–∏—è–Ω–∏–µ**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | **GPU**: +3-5ms

#### –û–ø–∏—Å–∞–Ω–∏–µ
–õ—É—á–∏ —Å–≤–µ—Ç–∞ –æ—Ç —Å–æ–ª–Ω—Ü–∞ –∏ —Ñ–æ–Ω–∞—Ä–µ–π, –≤–∏–¥–∏–º—ã–µ —Å–∫–≤–æ–∑—å —Ç—É–º–∞–Ω/–ø—ã–ª—å. –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è FPS –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã.

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–î–≤—É—Ö–ø—Ä–æ—Ö–æ–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º**:
  1. –†–µ–Ω–¥–µ—Ä –Ω–∏–∑–∫–æ—Ä–∞–∑—Ä–µ—à–∞—é—â–µ–π—Å—è —Å—Ü–µ–Ω—ã —Å –ø–æ–∑–∏—Ü–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å–≤–µ—Ç–∞ (depth only)
  2. –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –ª—É—á–µ–π –≤ —ç–∫—Ä–∞–Ω–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ (ray marching)
  
- **–¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã**:
  - `VolumetricLighting.hpp/cpp` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
  - `volumetric.frag` - ray marching —Å–æ —Å–∫–∞—Ç—Ç–µ—Ä–∏–Ω–≥–æ–º –†—ç–ª–µ—è
  
- **–®–µ–π–¥–µ—Ä –ª–æ–≥–∏–∫–∞**:
  ```glsl
  // –ê–ª–≥–æ—Ä–∏—Ç–º: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∏–∫—Å–µ–ª—è —Å–¥–µ–ª–∞—Ç—å 16 —à–∞–≥–æ–≤ –≤–¥–æ–ª—å –ª—É—á–∞ –æ—Ç –∫–∞–º–µ—Ä—ã
  vec3 rayDir = normalize(screenToWorld(uv));
  vec3 rayPos = cameraPos;
  vec3 volumetric = vec3(0);
  
  for(int step = 0; step < 16; step++) {
    rayPos += rayDir * stepSize;
    float shadowFactor = sampleDepth(rayPos);  // –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—Ç–µ–º–Ω–µ–Ω–∏—è
    float lightFactor = (1 - shadowFactor) * exp(-rayPos.y * heightAbsorption);
    volumetric += lightFactor * sunColor;
  }
  ```

- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**:
  - `numSteps` (8-32): –∫–∞—á–µ—Å—Ç–≤–æ vs –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  - `stepSize` (0.5-2.0): —à–∞–≥ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
  - `scatteringStrength` (0.1-1.0): –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å
  - `rayStartDistance` (0-50m): –Ω–∞—á–∞–ª–æ –ª—É—á–µ–π

- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ renderer**:
  ```cpp
  renderer.setVolumetricLighting(true);
  renderer.setVolumetricParams(32, 1.0f, 0.8f, 10.0f);
  renderer.renderVolumetricPass();  // after shadows, before tonemap
  ```

---

### 2Ô∏è‚É£ **Decal System (–°–∏—Å—Ç–µ–º–∞ —Ç—Ä–∞—Ñ–∞—Ä–µ—Ç–æ–≤)**
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê | **–í–ª–∏—è–Ω–∏–µ**: ‚≠ê‚≠ê‚≠ê‚≠ê | **GPU**: +2-3ms

#### –û–ø–∏—Å–∞–Ω–∏–µ
–ü—É–ª–∏, –≤–∑—Ä—ã–≤—ã, –≥—Ä—è–∑—å –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö. –û—á–µ–Ω—å –≤–∞–∂–Ω–æ –¥–ª—è FPS –±–æ–µ–≤–æ–≥–æ –æ—â—É—â–µ–Ω–∏—è.

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–¢–µ—Ö–Ω–∏–∫–∞**: Inverse Hull + Screen-space projection
  
- **–¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã**:
  - `Decal.hpp/cpp` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Ç—Ä–∞—Ñ–∞—Ä–µ—Ç–∞–º–∏
  - `DecalSystem.hpp/cpp` - —Å–±–æ—Ä–∫–∞ + —Ä–µ–Ω–¥–µ—Ä
  - `decal.frag` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∞—Ä–µ—Ç–∞ –∫ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
  
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**:
  ```cpp
  struct Decal {
    glm::mat4 worldMatrix;      // –ø–æ–∑–∏—Ü–∏—è + –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è
    glm::vec3 scale;            // —Ä–∞–∑–º–µ—Ä (—à–∏—Ä–∏–Ω–∞, –≤—ã—Å–æ—Ç–∞, –≥–ª—É–±–∏–Ω–∞)
    GLuint albedoTexture;       // —Ç—Ä–∞—Ñ–∞—Ä–µ—Ç –∞–ª—å–±–µ–¥–æ
    GLuint normalTexture;       // –Ω–æ—Ä–º–∞
    float lifetime;
    float fadeStart;            // –∫–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞—Ç—å –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ
  };
  ```

- **–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–µ–Ω–¥–µ—Ä–∞**:
  1. –†–µ–Ω–¥–µ—Ä –∫—É–±–∞ –≤–æ–∫—Ä—É–≥ –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–∞—Ñ–∞—Ä–µ—Ç–∞ (inverse backface)
  2. –§—Ä–∞–≥–º–µ–Ω—Ç–Ω—ã–π —à–µ–π–¥–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç UV –∏–∑ —Ç–µ–∫—Å—Ç—É—Ä—ã —Ç—Ä–∞—Ñ–∞—Ä–µ—Ç–∞
  3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª—É–±–∏–Ω—ã: —Ç–æ–ª—å–∫–æ –ø–∏–∫—Å–µ–ª–∏ –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–º–∞
  4. –ü—Ä–æ–µ–∫—Ü–∏—è: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–∏–∫—Å–µ–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –≤ UV —Ç—Ä–∞—Ñ–∞—Ä–µ—Ç–∞

- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  ```cpp
  decalSystem.addDecal(bulletPos, bulletDir, bulletTexture, 0.3f, 1.0f);
  decalSystem.update(deltaTime);
  decalSystem.render(renderer);
  ```

---

### 3Ô∏è‚É£ **Screen-Space Ambient Occlusion Optimization**
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê | **–í–ª–∏—è–Ω–∏–µ**: ‚≠ê‚≠ê‚≠ê | **GPU**: -2-3ms (—É—Å–∫–æ—Ä–µ–Ω–∏–µ)

#### –û–ø–∏—Å–∞–Ω–∏–µ
–¢–µ–∫—É—â–∞—è SSAO —Ç—Ä–µ–±—É–µ—Ç G-buffer. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å –≥–ª—É–±–∏–Ω–æ–π.

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: `ssao_deferred.frag` —É–∂–µ –µ—Å—Ç—å
  
- **–£–ª—É—á—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å **Temporal SSAO** (—Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –ø–æ –∫–∞–¥—Ä–∞–º)
  - –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π SSAO —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  - –°–º–µ—à–∏–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º: `ssao = mix(prev_ssao, curr_ssao, 0.2)`
  - –†–µ–∑—É–ª—å—Ç–∞—Ç: 4x –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–∏ 1x —Å—Ç–æ–∏–º–æ—Å—Ç–∏

- **–¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã**:
  - `TemporalSSAO.hpp/cpp` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π
  - `ssao_temporal.frag` - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à–µ–π–¥–µ—Ä
  
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `blurRadius`: 2-8 –ø–∏–∫—Å–µ–ª–µ–π –¥–ª—è —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
  - `temporalWeight`: 0.1-0.5 (–≤–ª–∏—è–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–∞–¥—Ä–∞)
  - `sampleCount`: 4-8 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π

---

### 4Ô∏è‚É£ **Dynamic Shadow Optimization**
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê | **–í–ª–∏—è–Ω–∏–µ**: ‚≠ê‚≠ê‚≠ê‚≠ê | **GPU**: -5-8ms (—É—Å–∫–æ—Ä–µ–Ω–∏–µ)

#### –û–ø–∏—Å–∞–Ω–∏–µ
–£—Å–ª–æ–≤–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Ç–µ–Ω–µ–π: –Ω–µ –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω—É–∂–Ω—ã –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä.

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–Ω–µ–π**:
  1. Point lights: –æ–±–Ω–æ–≤–ª—è—Ç—å –≥—Ä–∞–Ω–∏ –∫—É–±–∞ –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª –Ω–∞ 6 –∫–∞–¥—Ä–æ–≤)
  2. Spot lights: –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–π 2-–π –∫–∞–¥—Ä –µ—Å–ª–∏ –≤–Ω–µ —ç–∫—Ä–∞–Ω–∞
  3. Directional: –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –∫–∞—Å–∫–∞–¥—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –∫–∞–º–µ—Ä—ã >2–º

- **–¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã**:
  - `ShadowScheduler.hpp/cpp` - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `LightPoint.hpp` —Å –æ—á–µ—Ä–µ–¥—å—é –≥—Ä–∞–Ω–µ–π

- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  ```cpp
  shadowScheduler.update(deltaTime);
  shadowScheduler.scheduleShadowUpdate(pointLight, ShadowScheduler::Priority::Low);
  
  if(shadowScheduler.shouldUpdateShadow(pointLight)) {
    renderer.renderPointShadow(&pointLight);
  }
  ```

---

### 5Ô∏è‚É£ **Advanced Wind System**
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê | **–í–ª–∏—è–Ω–∏–µ**: ‚≠ê‚≠ê‚≠ê‚≠ê | **GPU**: +1-2ms

#### –û–ø–∏—Å–∞–Ω–∏–µ
–°–µ–π—á–∞—Å –≤–µ—Ç–µ—Ä –≤ —Ç—Ä–∞–≤–∫–µ –ø—Ä–æ—Å—Ç–æ–π `sin()`. –ù—É–∂–Ω–æ: —Ç—É—Ä–±—É–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å, –∑–∞–≤–∏—Ö—Ä–µ–Ω–∏—è, —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–ê–ª–≥–æ—Ä–∏—Ç–º Perlin Noise Wind**:
  1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 3D Perlin noise –≤–º–µ—Å—Ç–æ `sin(time)`
  2. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —à—É–º –≤ compute shader (–æ–¥–∏–Ω —Ä–∞–∑ –≤ 4 –∫–∞–¥—Ä–∞)
  3. –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ 3D —Ç–µ–∫—Å—Ç—É—Ä–µ (—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ 32√ó32√ó32)
  
- **–¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã**:
  - `WindSystem.hpp/cpp` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ç—Ä–æ–º
  - `wind_compute.comp` - compute shader –¥–ª—è Perlin noise
  - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `grass.vert` —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –ø–æ–ª–µ–º –≤–µ—Ç—Ä–∞

- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
  ```cpp
  struct WindVector {
    glm::vec3 direction;
    float strength;
    float frequency;
    float turbulence;  // —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å
  };
  
  class WindSystem {
    glm::sampler3D windTexture;  // Perlin noise field
    void computeWindField();
    glm::vec3 getWindAt(glm::vec3 worldPos);
  };
  ```

- **–®–µ–π–¥–µ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**:
  ```glsl
  vec3 windDir = texture(windField, worldPos * 0.01).xyz;
  float windStrength = texture(windField, worldPos * 0.02).w;
  float sway = sin(time + dot(worldPos, windDir)) * windStrength;
  ```

---

### 6Ô∏è‚É£ **Parallax Shadow Mapping (PSM)**
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê‚≠ê | **–í–ª–∏—è–Ω–∏–µ**: ‚≠ê‚≠ê‚≠ê | **GPU**: +2-4ms

#### –û–ø–∏—Å–∞–Ω–∏–µ
–¢–µ–Ω–∏ –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—è—Ö —Å parallax mapping –≤—ã–≥–ª—è–¥—è—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. PSM —Ñ–∏–∫—Å–∏—Ç —ç—Ç–æ.

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–¢–µ—Ö–Ω–∏–∫–∞**: –ü—Ä–æ–µ—Ü–∏—Ä–æ–≤–∞—Ç—å –≤—ã—Å–æ—Ç–Ω—É—é –∫–∞—Ä—Ç—É –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å–≤–µ—Ç–∞ –ø–µ—Ä–µ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º

- **–¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã**:
  - `psm.frag` - –Ω–æ–≤—ã–π —à–µ–π–¥–µ—Ä —Å PSM –ª–æ–≥–∏–∫–æ–π
  - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `LightDirectional.hpp` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º PSM

- **–ê–ª–≥–æ—Ä–∏—Ç–º**:
  ```glsl
  // –í space —Å–≤–µ—Ç–∞
  float heightAtLight = textureLod(heightMap, projCoords.xy, 0.0).r;
  heightAtLight = mix(0.0, 1.0, heightAtLight) * heightScale;
  
  // –°–º–µ—â–µ–Ω–∏–µ –æ—Ç –≤—ã—Å–æ—Ç—ã
  vec4 offsetCoords = projCoords + vec4(heightAtLight * lightDir.xy, 0, 0);
  float shadow = compare(offsetCoords, depth);
  ```

---

### 7Ô∏è‚É£ **Soft Shadows (–ú—è–≥–∫–∏–µ —Ç–µ–Ω–∏)**
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê | **–í–ª–∏—è–Ω–∏–µ**: ‚≠ê‚≠ê‚≠ê | **GPU**: +3-5ms

#### –û–ø–∏—Å–∞–Ω–∏–µ
–¢–µ–∫—É—â–∏–µ PCF —Ç–µ–Ω–∏ –∂–µ—Å—Ç–∫–∏–µ. –ù—É–∂–Ω–∞ —Ä–∞–∑–º—ã—Ç–æ—Å—Ç—å –∫—Ä–∞—è.

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–¢–µ—Ö–Ω–∏–∫–∞**: Penumbra Mapping
  - –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª—å—à—É—é –æ–±–ª–∞—Å—Ç—å –≤–æ–∫—Ä—É–≥ –ø–∏–∫—Å–µ–ª—è (—Å–ø–∏—Ä–∞–ª—å –ê—Ä—Ö–∏–º–µ–¥–∞)
  - –í—ã—á–∏—Å–ª—è—Ç—å –≥—Ä–∞–¥–∏–µ–Ω—Ç —Ç–µ–Ω–∏ (softness) –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞

- **–¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã**:
  - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `basic_advanced.frag` —Å Penumbra –ª–æ–≥–∏–∫–æ–π

- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  ```cpp
  struct SoftShadowConfig {
    float penumbraSize = 2.0f;      // —Ä–∞–∑–º–µ—Ä –ø–æ–ª—É—Ç–µ–Ω–∏
    int sampleCount = 32;           // –∫–æ–ª-–≤–æ —Å—ç–º–ø–ª–æ–≤
    float lightSize = 0.5f;         // –≤–∏–¥–∏–º—ã–π —Ä–∞–∑–º–µ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞
  };
  ```

---

### 8Ô∏è‚É£ **Dynamic Resolution Scaling**
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê | **–í–ª–∏—è–Ω–∏–µ**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | **GPU**: –ê–¥–∞–ø—Ç–∏–≤–Ω–æ

#### –û–ø–∏—Å–∞–Ω–∏–µ
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–Ω–∏–∂–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ FPS, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø—Ä–∏ —É–ª—É—á—à–µ–Ω–∏–∏.

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–ê–ª–≥–æ—Ä–∏—Ç–º**:
  1. –ò–∑–º–µ—Ä—è—Ç—å GPU time –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
  2. –ï—Å–ª–∏ FPS < target (60): —Å–Ω–∏–∑–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ 10%
  3. –ï—Å–ª–∏ FPS > target + margin: –ø–æ–≤—ã—Å–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ 5%
  
- **–¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã**:
  - `DynamicResolution.hpp/cpp` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º
  - `upscale.frag` - —É–ª—É—á—à–µ–Ω–∏–µ –Ω–∏–∑–∫–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (FSR-–ø–æ–¥–æ–±–Ω–æ–µ)

- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  ```cpp
  dynamicResolution.setTargetFPS(60);
  dynamicResolution.setMinResolution(0.5f);  // min 50%
  
  float scale = dynamicResolution.getResolutionScale();
  renderer.setRenderTarget(1920 * scale, 1080 * scale);
  ```

---

### 9Ô∏è‚É£ **Advanced LOD with Imposters**
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê‚≠ê | **–í–ª–∏—è–Ω–∏–µ**: ‚≠ê‚≠ê‚≠ê‚≠ê | **GPU**: -10-15ms (–¥–∞–ª—å–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã)

#### –û–ø–∏—Å–∞–Ω–∏–µ
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ billboard'–æ–≤ –∏–∑ 3D –º–æ–¥–µ–ª–µ–π –¥–ª—è –æ—á–µ–Ω—å –¥–∞–ª—å–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–î–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å**:
  1. **Offline**: –†–µ–Ω–¥–µ—Ä –º–æ–¥–µ–ª–∏ —Å–æ –≤—Å–µ—Ö —Å—Ç–æ—Ä–æ–Ω (8 —É–≥–ª–æ–≤) ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ø—Ä–∞–π—Ç—ã
  2. **Runtime**: LODGroup –≤—ã–±–∏—Ä–∞–µ—Ç –º–µ–∂–¥—É mesh ‚Üí imposters ‚Üí –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫–≤–∞–¥

- **–¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã**:
  - `ImposterGenerator.hpp/cpp` - —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ø—Ä–∞–π—Ç–æ–≤ (offline –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç)
  - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `LODGroup.hpp` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–º–ø–æ—Å—Ç–µ—Ä–æ–≤
  - `imposter.vert/frag` - —Ä–µ–Ω–¥–µ—Ä —Å–ø—Ä–∞–π—Ç–æ–≤ —Å parallax

- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  ```cpp
  // Offline
  ImposterGenerator gen;
  gen.renderTreeToSpritesheet(treeModel, 8);  // 8 —É–≥–ª–æ–≤
  gen.saveToFile("tree_imposters.ktx2");
  
  // Runtime
  LODGroup treeGroup;
  treeGroup.addMesh(treeHD, 0, 30);
  treeGroup.addMesh(treeLOD1, 30, 100);
  treeGroup.addImposter(treeImpostor, 100, 500);
  ```

---

### üîü **Post-Process Temporal Filtering (TAA-like)**
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê | **–í–ª–∏—è–Ω–∏–µ**: ‚≠ê‚≠ê‚≠ê | **GPU**: +1-2ms

#### –û–ø–∏—Å–∞–Ω–∏–µ
–°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –∏ –º–µ—Ä—Ü–∞–Ω–∏—è —á–µ—Ä–µ–∑ –∏—Å—Ç–æ—Ä–∏—é –∫–∞–¥—Ä–æ–≤ (–±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ TAA overhead).

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ —Å motion vectors
  1. –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–æ–∑–∏—Ü–∏–∏ –ø–∏–∫—Å–µ–ª–µ–π –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–∞–¥—Ä–∞
  2. –ü–µ—Ä–µ–ø—Ä–æ–µ—Ü–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç–µ–∫—É—â–∏–π –∫–∞–¥—Ä
  3. –°–º–µ—à–∏–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å –ø–µ—Ä–µ–ø—Ä–æ–µ—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º (low-pass filter)

- **–¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã**:
  - `TemporalFilter.hpp/cpp` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π –∫–∞–¥—Ä–æ–≤
  - `temporal_filter.frag` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞

- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  ```cpp
  struct TemporalConfig {
    float feedbackMin = 0.85f;    // –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
    float feedbackMax = 0.95f;    // –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ
    float velocityThreshold = 5.0f;  // –ø–∏–∫—Å–µ–ª–∏/–∫–∞–¥—Ä
  };
  ```

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ü–æ—Ä—è–¥–æ–∫ –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### **–§–∞–∑–∞ 6A: Essential (2-3 –Ω–µ–¥–µ–ª–∏)**
1. ‚úÖ **Volumetric Lighting** - –æ–≥—Ä–æ–º–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–º–ø–∞–∫—Ç
2. ‚úÖ **Decal System** - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è gameplay feedback
3. ‚úÖ **Dynamic Shadow Optimization** - –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç FPS

### **–§–∞–∑–∞ 6B: Advanced (2-3 –Ω–µ–¥–µ–ª–∏)**
4. ‚úÖ **Advanced Wind** - —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç—å —Ç—Ä–∞–≤—ã/–¥–µ—Ä–µ–≤—å–µ–≤
5. ‚úÖ **Soft Shadows** - –∫–∞—á–µ—Å—Ç–≤–æ –≤–∏–∑—É–∞–ª–∞
6. ‚úÖ **Temporal SSAO** - —É–ª—É—á—à–µ–Ω–∏–µ –æ—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç–∏

### **–§–∞–∑–∞ 6C: Polish (1-2 –Ω–µ–¥–µ–ª–∏)**
7. ‚úÖ **Imposters LOD** - –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å —Å—Ü–µ–Ω—ã
8. ‚úÖ **PSM** - —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å parallax + —Ç–µ–Ω–∏
9. ‚úÖ **Dynamic Resolution** - –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –∫ –∂–µ–ª–µ–∑—É
10. ‚úÖ **Temporal Filtering** - —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ

---

## üìä –ü—Ä–∏—Ä–æ—Å—Ç –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ vs –ö–∞—á–µ—Å—Ç–≤–∞

| –°–∏—Å—Ç–µ–º–∞ | –ü—Ä–∏—Ä–æ—Å—Ç GPU | –ü–∞–¥–µ–Ω–∏–µ FPS | –£–ª—É—á—à–µ–Ω–∏–µ –í–∏–∑—É–∞–ª–∞ |
|---------|-------------|------------|------------------|
| Volumetric Light | +3ms | 5% | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| Decal System | +2ms | 3% | ‚≠ê‚≠ê‚≠ê‚≠ê |
| Shadow Optimization | -5ms | -8% | ‚úÖ (—É–ª—É—á—à–µ–Ω–∏–µ) |
| Wind System | +1ms | 1% | ‚≠ê‚≠ê‚≠ê‚≠ê |
| Soft Shadows | +3ms | 5% | ‚≠ê‚≠ê‚≠ê |
| Imposters | -10ms | -15% | ‚úÖ (–¥–∞–ª—å–Ω–∏–µ) |
| Temporal Filter | +1ms | 1% | ‚≠ê‚≠ê‚≠ê |
| **–ò–¢–û–ì–û** | **-6ms** | **-9%** | **–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π** |

**–í—ã–≤–æ–¥**: –ü—Ä–∏ –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—É—á–∞–µ–º 9% —É—Å–∫–æ—Ä–µ–Ω–∏–µ + –æ–≥—Ä–æ–º–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∞.

---

## üéì –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ò–¥–µ–∏ (–ï—Å–ª–∏ –ù—É–∂–Ω—ã –ï—â–µ)

### Low Priority (–ï—Å–ª–∏ –û—Å—Ç–∞–µ—Ç—Å—è –í—Ä–µ–º—è)

- **Screen-Space Reflections+ (Advanced)** - —É–ª—É—á—à–∏—Ç—å —Ç–µ–∫—É—â–∏–µ SSR —Å –∏—Å—Ç–æ—Ä–∏–µ–π
- **Parallax-Corrected Cubemap** - –ª—É—á—à–µ –æ—Ç—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–æ–º–µ—â–µ–Ω–∏—è—Ö
- **Compute Shader LOD Building** - GPU-driven terrain tessellation
- **Particle System** - –¥—ã–º, –ø—ã–ª—å, –æ—Å–∫–æ–ª–∫–∏
- **Cloth Simulation** - —Ñ–ª–∞–≥–∏, –ø–ª–∞—â–∏ (compute shader)
- **Caustics** - –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ —Å–≤–µ—Ç–∞ –≤ –≤–æ–¥–µ (animated texture projection)

---

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –°–æ–≤–µ—Ç—ã

### –î–ª—è Forward Rendering
- ‚úÖ –í—Å–µ 10 —Å–∏—Å—Ç–µ–º –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å forward
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É—é—Ç G-buffer (—Ä–∞–±–æ—Ç–∞—é—Ç —Å depth only / color + depth)
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –±–µ–∑ –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∏ core

### –î–ª—è Blinn-Phong
- ‚úÖ Specular power —É–∂–µ –µ—Å—Ç—å (16.0 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- ‚úÖ –í—Å–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –±–∞–∑–æ–≤–æ–≥–æ –æ—Å–≤–µ—â–µ–Ω–∏—è
- ‚úÖ –ù–∏ –æ–¥–∏–Ω –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∏—è light loop

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –¢—Ä—é–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–π compute shaders –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ (wind, occlusion)
- –ö—ç—à–∏—Ä—É–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏ (temporal reuse)
- –ò—Å–ø–æ–ª—å–∑—É–π –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π downsampling –¥–ª—è –¥–µ—à–µ–≤—ã—Ö approximations

---

## üìù –§–∞–π–ª—ã –¥–ª—è –°–æ–∑–¥–∞–Ω–∏—è

```
include/RenderLib/
‚îú‚îÄ VolumetricLighting.hpp      (–§–∞–∑–∞ 6A)
‚îú‚îÄ Decal.hpp / DecalSystem.hpp  (–§–∞–∑–∞ 6A)
‚îú‚îÄ ShadowScheduler.hpp          (–§–∞–∑–∞ 6A)
‚îú‚îÄ WindSystem.hpp               (–§–∞–∑–∞ 6B)
‚îú‚îÄ TemporalSSAO.hpp             (–§–∞–∑–∞ 6B)
‚îú‚îÄ TemporalFilter.hpp           (–§–∞–∑–∞ 6C)
‚îú‚îÄ DynamicResolution.hpp        (–§–∞–∑–∞ 6C)
‚îî‚îÄ ImposterGenerator.hpp        (–§–∞–∑–∞ 6C)

src/
‚îú‚îÄ VolumetricLighting.cpp
‚îú‚îÄ Decal.cpp / DecalSystem.cpp
‚îú‚îÄ ShadowScheduler.cpp
‚îú‚îÄ WindSystem.cpp
‚îú‚îÄ TemporalSSAO.cpp
‚îú‚îÄ TemporalFilter.cpp
‚îú‚îÄ DynamicResolution.cpp
‚îî‚îÄ ImposterGenerator.cpp

shaders/
‚îú‚îÄ volumetric.frag          (–§–∞–∑–∞ 6A)
‚îú‚îÄ decal.frag               (–§–∞–∑–∞ 6A)
‚îú‚îÄ wind_compute.comp        (–§–∞–∑–∞ 6B)
‚îú‚îÄ ssao_temporal.frag       (–§–∞–∑–∞ 6B)
‚îú‚îÄ soft_shadow.frag         (–§–∞–∑–∞ 6B)
‚îú‚îÄ temporal_filter.frag     (–§–∞–∑–∞ 6C)
‚îú‚îÄ upscale.frag             (–§–∞–∑–∞ 6C)
‚îî‚îÄ imposter.vert/frag       (–§–∞–∑–∞ 6C)
```

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ö–∞–∂–¥–∞—è –∏–∑ 10 —Å–∏—Å—Ç–µ–º:
- üéØ –¶–µ–ª–µ–≤–∞—è –¥–ª—è FPS –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –º–∏—Ä–∞
- ‚öôÔ∏è –°–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å forward + Blinn-Phong
- üìà –î–æ–±–∞–≤–ª—è–µ—Ç –≤–∏–¥–∏–º—ã–π —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚ö° –û–ø—Ç–∏–º–∞–ª—å–Ω–∞ –ø–æ GPU/CPU –∑–∞—Ç—Ä–∞—Ç–∞–º
- üîß –ú–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å—Ç–∞—Ä—Ç**: Volumetric Lighting + Decal System (—Å–∞–º—ã–µ –≤–∏–¥–∏–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –∑–∞ 1-2 –Ω–µ–¥–µ–ª–∏).

